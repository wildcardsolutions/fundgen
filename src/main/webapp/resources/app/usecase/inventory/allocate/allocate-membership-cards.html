
<div ng-controller="allocateMembershipCardsController as ctrl">
	<div class="panel panel-primary">
		<div class="panel-heading">
			<label class="controller-title"><i class="fa fa-exchange fa-2x"></i> Allocate Membership Cards</label>
		</div>
	  	<div class="panel-body">
	  		<form role="form" name="form">
				<div class="form-group">
					<div class="row">
						<span class="col-sm-9">
							<span class="col-sm-3">
								<label class="control-label" for="cardType">Chapter</label>
							</span>
							<div class="input-group col-sm-4">
								<select name="chapter" 
										id="chapter"
										class="form-control input-sm" 
										ng-model="card.chapter"
										ng-options="chapter.id as chapter.chapterName for chapter in chapters | filter : {deleted : false}" 
										required >
								</select> 
							</div>	
							<span class="error col-sm-2" 
									ng-show="!form.chapter.$pristine && form.chapter.$error.required">*Required</span>
						</span>
					</div>
					<div class="row">
						<span class="col-sm-9">
							<span class="col-sm-3">
								<label class="control-label" for="cardType">Card Type</label>
							</span>
							<div class="input-group col-sm-4">
								<select name="cardType" 
										id="cardType" 
										ng-change="update()"
										class="form-control input-sm" 
										ng-model="card.cardType"
										ng-options="cardType.id as cardType.name for cardType in cardTypes | filter : {deleted : false}" 
										required>
								</select> 
							</div>	
							<span class="error col-sm-2" 
									ng-show="!form.cardType.$pristine && form.cardType.$error.required">*Required</span>
						</span>
					</div>
					<div class="row">
						<span class="col-sm-9">
							<span class="col-sm-3">
								<label class="control-label" for="seriesStart">Series Start</label>
							</span>
							<div class="input-group col-sm-4">
								<div class="input-group-addon">{{prefix}}</div>
								<input type="number" 
										placeholder="Enter start of series"
										name="seriesStart" 
										id="seriesStart" 
										ng-model="card.seriesStart" 
										class="form-control input-sm" 
										ng-required="true" 
										min="1" 
										max="9999999">
							</div>
							<span class="error col-sm-3" 
									ng-show="!form.seriesStart.$pristine && form.seriesStart.$error.required">Required</span>
							<span class="error col-sm-3" 
									ng-show="form.seriesStart.$error.number">Not valid number.</span>
							<span class="error col-sm-3" 
									ng-show="form.seriesStart.$error.max ">Exceeded maximum value.</span>
						</span>
					</div>
					<div class="row">
						<span class="col-sm-9">
							<span class="col-sm-3">
								<label class="control-label" for="seriesEnd">Series End</label>
							</span>
							<div class="input-group col-sm-4">
								<div class="input-group-addon">{{prefix}}</div>
								<input type="number" 
										placeholder="Enter end of series"
										name="seriesEnd" 
										id="seriesEnd" 
										ng-model="card.seriesEnd" 
										class="form-control input-sm" 
										ng-required="true" 
										min="1" 
										max="9999999">
							</div>
							<span class="error col-sm-3" 
									ng-show="!form.seriesEnd.$pristine && form.seriesEnd.$error.required">Required</span>
							<span class="error col-sm-3" 
									ng-show="form.seriesEnd.$error.number">Not valid number.</span>
							<span class="error col-sm-3" 
									ng-show="form.seriesEnd.$error.max">Exceeded maximum value.</span>
						</span>
					</div>
					<br/>
					<div class="row">
						<span class="col-sm-9">
							<span class="col-sm-9">
								<!--  -->
								<button ng-disabled="form.$invalid" ng-click="ctrl.allocate(card)" type="button" class="btn btn-primary btn-large">
									<i class="fa fa-exchange"></i>&nbsp;&nbsp;Allocate
								</button>
								
								<!--  -->
								<button ng-click="ctrl.reset()" type="button" class="btn btn-warning btn-large">
									<i class="fa fa-refresh"></i> &nbsp;&nbsp;Reset
								</button>
							</span>
						</span>
					</div>
				</div>
			</form>
		</div>
	</div>
</div>